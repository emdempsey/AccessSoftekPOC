https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FAzure%2Fazure-quickstart-templates%2Fmaster%2F101-virtual-network%2Fazuredeploy.json

https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2Femdempsey%2FAccessSoftekPOC%2Fmaster%2FAccessSoftekPOC%2FTemplates%2Fastazuredeploy.json

https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2Femdempsey%2FAccessSoftekPOC%2Fmaster%2FAccessSoftekPOC%2FTemplates%2FLoadBalancedVirtualMachine.json

https://raw.githubusercontent.com/emdempsey/AccessSoftekPOC/master/AccessSoftekPOC/Templates/astazuredeploy.json

https://raw.githubusercontent.com/emdempsey/AccessSoftekPOC/master/AccessSoftekPOC/Templates/DevBetaMgmt.json

***Template Files***
$TemplateFile = 'https://raw.githubusercontent.com/emdempsey/AccessSoftekPOC/master/AccessSoftekPOC/Templates/azuredeploy.json'
$TemplateFile = 'https://raw.githubusercontent.com/emdempsey/AccessSoftekPOC/master/AccessSoftekPOC/Templates/DevEnv.json'
$TemplateFile = 'https://raw.githubusercontent.com/emdempsey/AccessSoftekPOC/master/AccessSoftekPOC/Templates/BetaEnv.json'
$TemplateFile = 'https://raw.githubusercontent.com/emdempsey/AccessSoftekPOC/master/AccessSoftekPOC/Templates/StgEnv.json'
$TemplateFile = 'https://raw.githubusercontent.com/emdempsey/AccessSoftekPOC/master/AccessSoftekPOC/Templates/ProdEnv.json'

***Vars and Commands for full deployment testing***

$ResourceGroupName = 'ASTServices'
$location = "West US"

New-AzureResourceGroup -Name $ResourceGroupName -Location $location -TemplateFile $TemplateFile -Force -Verbose

***Extra Vars if you want to change the defaults
$adminPassword = 'Office365'
$adminUsername = 'nimda'
$customerPrefix = 'sky'
$customerVPNAddress = '1.1.1.1'
$customerVPNFamily = 'IOS 15.1 (dynamic)'
$customerVPNP2SSubnet = '192.168.1.0/24'
$customerVPNPlatform = 'ISR'
$customerVPNSubnet = '172.16.0.0/16'
$customerVPNVendor = 'Cisco'
$dnsNameForPublicIP = 'astservices'
$vnetAddressSpacePrefix = '10.0'
$BetaWebVMCount = 2
$BetaMFMVMCount = 2
$BetaOrphVMCount = 2
$StgWebVMCount = 2
$StgMFMVMCount = 2
$StgOrphVMCount = 2
$ProdWebVMCount = 3
$ProdMFMVMCount = 3
$ProdOrphVMCount = 3
$DevBetaDomainName = 'devbeta.macuhosted'
$StgProdDomainName = 'stgprod.macuhosted'

$adminPassword = ConvertTo-SecureString -AsPlainText -Force -String $adminPassword

Switch-AzureMode AzureResourceManager

cls

New-AzureResourceGroup -Name $ResourceGroupName -Location $location -TemplateFile $TemplateFile -adminPassword $adminPassword -adminUsername $adminUsername -customerLocation $location -customerPrefix $customerPrefix -customerVPNAddress $customerVPNAddress -customerVPNfamily $customerVPNFamily -customerVPNP2SSubnet $customerVPNP2SSubnet -customerVPNPlatform $customerVPNPlatform -customerVPNSubnet $customerVPNSubnet -customerVPNVendor $customerVPNVendor -dnsNameForPublicIP $dnsNameForPublicIP -vnetAddressSpacePrefix $vnetAddressSpacePrefix -BetaWebVMCount $BetaWebVMCount -BetaMFMVMCount $BetaMFMVMCount -BetaOrphVMCount $BetaOrphVMCount -StgWebVMCount $StgWebVMCount -StgMFMVMCount $StgMFMVMCount -StgOrphVMCount $StgOrphVMCount -ProdWebVMCount $ProdWebVMCount -ProdMFMVMCount $ProdMFMVMCount -ProdOrphVMCount $ProdOrphVMCount -DevBetaDomainName $DevBetaDomainName -StgProdDomainName $StgProdDomainName -Force -Verbose


